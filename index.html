<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Budget Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <h1>Budget Dashboard</h1>

    <div class="period-filter">
      <label for="period-select">Period:</label>
      <select id="period-select">
        <option value="1m">Last month</option>
        <option value="3m">Last 3 months</option>
        <option value="6m">Last 6 months</option>
        <option value="ytd">Year to date</option>
        <option value="custom">Custom</option>
      </select>

      <div id="custom-range" class="hidden">
        <input type="date" id="date-from" />
        <input type="date" id="date-to" />
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="tabs">
    <button data-tab="dashboard" class="active">Dashboard</button>
    <button data-tab="transactions">Transactions</button>
    <button data-tab="categories">Categories</button>
    <button data-tab="import">Import</button>
  </nav>

  <!-- DASHBOARD TAB -->
  <section id="tab-dashboard" class="tab-panel active">
    <h2>Income statement</h2>
    <p>Summary of income and expenses for the selected period.</p>

    <div id="income-statement"></div>
  </section>

  <!-- TRANSACTIONS TAB -->
  <section id="tab-transactions" class="tab-panel">
    <h2>Transactions</h2>

    <table class="transactions-table">
      <thead>
        <tr>
          <th></th>
          <th>Date</th>
          <th>Description</th>
          <th>Amount</th>
          <th>Category</th>
        </tr>
      </thead>
      <tbody id="transactions-body"></tbody>
    </table>
  </section>

  <!-- CATEGORIES TAB -->
  <section id="tab-categories" class="tab-panel">
    <h2>Categories</h2>
    <p>Visual tree on the left â†’ editor on the right.</p>

    <div class="categories-layout">
      <!-- LEFT SIDE: Two trees -->
      <div class="categories-columns">
        <!-- Income categories -->
        <div class="card">
          <h3>Income categories</h3>
          <div id="income-category-tree" class="category-tree"></div>
        </div>

        <!-- Expense categories -->
        <div class="card">
          <h3>Expense categories</h3>
          <div id="expense-category-tree" class="category-tree"></div>
        </div>
      </div>

      <!-- RIGHT SIDE: Editors -->
      <div class="card categories-editor-card">
        <h3>Categories editor</h3>
        <p>Use dashes for levels (e.g., <code>-</code> for level 1, <code>--</code> for level 2).</p>

        <label class="editor-label">Income categories</label>
        <textarea id="income-categories-editor" rows="8"></textarea>

        <label class="editor-label">Expense categories</label>
        <textarea id="expense-categories-editor" rows="12"></textarea>

        <button id="apply-categories" class="primary-btn">Update categories</button>
      </div>
    </div>
  </section>

  <!-- IMPORT TAB -->
  <section id="tab-import" class="tab-panel">
    <h2>Import transactions</h2>
    <p>Upload a PocketSmith CSV export.</p>

    <div class="import-card">
      <label>CSV file:
        <input type="file" id="import-file" accept=".csv" />
      </label>

      <label class="import-clear">
        <input type="checkbox" id="import-clear-existing" />
        Clear existing transactions before import
      </label>

      <button id="import-button" class="primary-btn">Import CSV</button>
      <div id="import-status" class="import-status"></div>
    </div>
  </section>

  <script src="app.js"></script>
</body>
</html>
