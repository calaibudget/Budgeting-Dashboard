<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Dashboard</title>

    <link rel="stylesheet" href="src/css/styles.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>

<header class="top-bar">
    <h1>Budget Dashboard</h1>

    <nav class="tabs">
        <button class="tab-btn" data-tab="dashboard">Dashboard</button>
        <button class="tab-btn" data-tab="transactions">Transactions</button>
        <button class="tab-btn" data-tab="categories">Categories</button>
        <button class="tab-btn" data-tab="import">Import</button>
    </nav>

    <div id="periodSelector" class="period-selector">
        <label>Period:
            <select id="periodFilter">
                <option value="1m">Last 1 month</option>
                <option value="3m">Last 3 months</option>
                <option value="6m" selected>Last 6 months</option>
                <option value="12m">Last 12 months</option>
                <option value="all">All time</option>
            </select>
        </label>
    </div>
</header>

<!-- ====================== DASHBOARD ====================== -->
<section id="dashboard" class="tab-content active">
    <h2>Income statement</h2>
    <p>Summary of income and expenses for the selected period.</p>

    <div id="incomeSummary"></div>
</section>

<!-- ====================== TRANSACTIONS ====================== -->
<section id="transactions" class="tab-content">
    <h2>Transactions</h2>

    <div class="transaction-controls">

        <input id="searchBox" type="text" placeholder="Search description, account, category..." />

        <select id="filterAccount"></select>
        <select id="filterCategory"></select>

        <input id="filterLabel" type="text" placeholder="Search labels" />

        <select id="filterDateType">
            <option value="any">Any date</option>
            <option value="on">On</option>
            <option value="before">Before</option>
            <option value="after">After</option>
            <option value="between">Between</option>
        </select>

        <input id="filterDate1" type="date">
        <input id="filterDate2" type="date">

        <button id="addTransactionBtn">Add transaction</button>
        <button id="deleteSelectedBtn">Delete selected</button>
    </div>

    <div id="transactionTable"></div>
</section>

<!-- ====================== CATEGORIES ====================== -->
<section id="categories" class="tab-content">
    <h2>Categories</h2>

    <button id="editCategoriesBtn">Edit categories</button>

    <div id="categoryTree" class="category-tree"></div>
</section>

<!-- ====================== IMPORT ====================== -->
<section id="import" class="tab-content">
    <h2>Import transactions</h2>

    <p>Upload a PocketSmith CSV export. You can append or replace your transactions.</p>

    <label>CSV file:
        <input type="file" id="importFile" accept=".csv">
    </label>

    <label style="display:block;margin-top:10px;">
        <input type="checkbox" id="clearBeforeImport"> Clear existing transactions before import
    </label>

    <button id="importBtn">Import CSV</button>
</section>

<!-- ====================== POPUP â€“ EDIT CATEGORIES ====================== -->
<div id="categoryPopup" class="popup hidden">
    <div class="popup-content">
        <h3>Edit categories</h3>
        <p>Use dashes to indicate levels. Example:</p>
        <pre>
Income
-Base Salary
-Performance Bonus
Food & Drinks
-Restaurants
--Lunch
--Dinner
        </pre>

        <textarea id="categoryEditor"></textarea>

        <div class="popup-actions">
            <button id="saveCategoriesBtn">Save</button>
            <button id="closePopupBtn">Cancel</button>
        </div>
    </div>
</div>

<script src="src/js/app.js"></script>

</body>
</html>
