<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Budget Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- CSS -->
    <link rel="stylesheet" href="src/css/styles.css" />
  </head>
  <body>
    <div class="page">
      <!-- Header -->
      <header class="app-header">
        <div class="app-title">Budget Dashboard</div>

        <div class="period-filter">
          <span>Period:</span>
          <select id="period-select">
            <option value="1m">Last month</option>
            <option value="3m">Last 3 months</option>
            <option value="6m" selected>Last 6 months</option>
            <option value="ytd">Year to date</option>
            <option value="custom">Custom range</option>
          </select>

          <div id="custom-range" class="custom-range hidden">
            <input type="date" id="date-from" />
            <input type="date" id="date-to" />
          </div>
        </div>
      </header>

      <!-- Tabs (visual only) -->
      <nav class="tabs">
        <button class="tab tab--active" type="button">Dashboard</button>
        <button class="tab" type="button">Transactions</button>
        <button class="tab" type="button">Categories</button>
        <button class="tab" type="button">Import</button>
      </nav>

      <!-- ===== Dashboard: Income statement ===== -->
      <section class="card">
        <div class="card__header">
          <h1 class="card__title">Income statement</h1>
        </div>
        <p class="card__subtitle">
          Summary of income and expenses for the selected period.
        </p>
        <p id="income-summary" class="income-summary">
          <!-- populated by JS -->
        </p>

        <div id="income-statement">
          <!-- populated by JS -->
        </div>
      </section>

      <!-- ===== Transactions ===== -->
      <section class="card">
        <div class="card__header">
          <h2 class="card__title">Transactions</h2>
        </div>

        <table class="transactions-table">
          <thead>
            <tr>
              <th class="tx-col-select"></th>
              <th>Date</th>
              <th>Description</th>
              <th>Amount</th>
              <th>Category</th>
              <th>Labels</th>
            </tr>
          </thead>
          <tbody id="transactions-body">
            <!-- populated by JS -->
          </tbody>
        </table>
      </section>

      <!-- ===== Categories ===== -->
      <section class="card">
        <div class="card__header">
          <h2 class="card__title">Categories</h2>
        </div>

        <div class="categories-layout">
          <div class="categories-tree-wrapper">
            <h3>Category tree</h3>
            <p class="muted">
              Visual tree of income and expense categories.
            </p>
            <div id="category-tree" class="category-tree">
              <!-- populated by JS -->
            </div>
          </div>

          <div class="categories-editor-wrapper">
            <h3>Categories editor</h3>
            <p class="muted">
              Paste your category tree here, one per line. Use dashes for
              levels (no dash = top level, <code>-</code> = level 1,
              <code>--</code> = level 2, etc.).
            </p>
            <textarea id="categories-editor"></textarea>
            <button id="apply-categories" type="button">
              Update categories
            </button>
          </div>
        </div>
      </section>

      <!-- ===== Import ===== -->
      <section class="card">
        <div class="card__header">
          <h2 class="card__title">Import transactions</h2>
        </div>
        <p class="card__subtitle">
          Upload a PocketSmith CSV export. You can append to or replace the
          existing transactions.
        </p>

        <div class="import-form">
          <input
            type="file"
            id="import-file"
            accept=".csv"
          />
          <label>
            <input
              type="checkbox"
              id="import-clear-existing"
              checked
            />
            Clear existing transactions before import
          </label>
          <button id="import-button" type="button">Import CSV</button>
        </div>
        <p id="import-status" class="import-status"></p>
      </section>
    </div>

    <!-- JS -->
    <script src="app.js"></script>
  </body>
</html>
